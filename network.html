<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    .link { stroke: #999; stroke-opacity: 0.6; }
    .node { stroke: #fff; stroke-width: 1.5px; }
  </style>
</head>
<body>
    <div id="tooltip" style="position: absolute; visibility: hidden; pointer-events: none; padding: 5px; background-color: rgba(0, 0, 0, 0.7); color: #fff; border-radius: 4px;"></div>
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script>
const width = 800;
const height = 600;

// Dummy data
const edges = [
{source: 'Afia Atakora', target: 'Columbia University'},
{source: 'Afia Atakora', target: 'Helen Garnons-Williams'},
{source: 'Afia Atakora', target: 'ICM'},
{source: 'Afia Atakora', target: 'Random House'},
{source: 'Afia Atakora', target: 'Tin House'},
{source: 'Alka Joshi', target: 'Amy Jones'},
{source: 'Alka Joshi', target: 'Emma Sweeney Agency'},
{source: 'Alka Joshi', target: 'Laura Gianino'},
{source: 'Alka Joshi', target: 'Margaret Marbury'},
{source: 'Alka Joshi', target: 'Randy Chan'},
{source: 'Amina Cain', target: 'Janklow & Nesbit'},
{source: 'Brandon Taylor', target: 'C Pam Zhang'},
{source: 'Brandon Taylor', target: 'Cal Morgan'},
{source: 'Brandon Taylor', target: 'DeFiore and Company'},
{source: 'C Pam Zhang', target: 'Brandon Taylor'},
{source: 'C Pam Zhang', target: 'The Clegg Agency'},
{source: 'Callan Wink', target: 'Steinberg Agency'},
{source: 'Cara Wall', target: 'Elizabeth Breeden'},
{source: 'Cara Wall', target: 'Harvey Klinger'},
{source: 'Celia Laskey', target: 'Michelle Koufopoulos'},
{source: 'Celia Laskey', target: 'Trident Media Group'},
{source: 'Chanelle Benz', target: 'Arthur Flowers'},
{source: 'Chanelle Benz', target: 'Ben Greenberg'},
{source: 'Chanelle Benz', target: 'Denise Shannon Literary Agency'},
{source: 'Chanelle Benz', target: 'Megan Lynch'},
{source: 'Charlie Kaufman', target: 'Ben Greenberg'},
{source: 'Charlie Kaufman', target: 'MacDowell'},
{source: 'Charlie Kaufman', target: 'William Morris Endeavor'},
{source: 'Chelsea Bieker', target: 'Georges Borchardt'},
{source: 'Chelsea Bieker', target: 'Katie'},
{source: 'Chelsea Bieker', target: 'MacDowell'},
{source: 'Chelsea Bieker', target: 'Rachel Kushner'},
{source: 'Chelsea Bieker', target: 'Rona Jaffe Foundation'},
{source: 'Chelsea Bieker', target: 'Tin House'},
{source: 'Chia-Chia Lin', target: '3 Arts Entertainment'},
{source: 'Chia-Chia Lin', target: 'Charlie DAmbrosio'},
{source: 'Chia-Chia Lin', target: 'Ethan Canin'},
{source: 'Chia-Chia Lin', target: 'Marilynne Robinson'},
{source: 'Chia-Chia Lin', target: 'Noel Carver'},
{source: 'Chia-Chia Lin', target: 'Sarah Frye'},
{source: 'Claire Lombardo', target: 'Amanda Dennis'},
{source: 'Claire Lombardo', target: 'Charlie DAmbrosio'},
{source: 'Claire Lombardo', target: 'Drew Calvert'},
{source: 'Claire Lombardo', target: 'Ethan Canin'},
{source: 'Claire Lombardo', target: 'Jade Jones'},
{source: 'Claire Lombardo', target: 'Kevin Smith'},
{source: 'Claire Lombardo', target: 'Lee Boudreaux'},
{source: 'Claire Lombardo', target: 'Mia Bailey'},
{source: 'Claire Lombardo', target: 'Sarah Frye'},
{source: 'Claire Lombardo', target: 'Trident Media Group'},
{source: 'Clare Beams', target: 'Aevitas Creative Management'},
{source: 'Clare Beams', target: 'Bread Loaf'},
{source: 'Clare Beams', target: 'Emily Mahon'},
{source: 'Clare Beams', target: 'Lee Boudreaux'},
{source: 'Clare Beams', target: 'National Endowment for the Arts'},
{source: 'Clare Beams', target: 'Sewanee'},
{source: 'Corey Sobel', target: 'Aevitas Creative Management'},
{source: 'Corey Sobel', target: 'Sewanee'},
{source: 'Dana Czapnik', target: 'Center for Fiction'},
{source: 'Dana Czapnik', target: 'Levine Greenberg Rostan'},
{source: 'Dana Czapnik', target: 'New York Foundation for the Arts'},
{source: 'DeShawn Charles Winslow', target: 'Amanda Dennis'},
{source: 'DeShawn Charles Winslow', target: 'Bread Loaf'},
{source: 'DeShawn Charles Winslow', target: 'Drew Calvert'},
{source: 'DeShawn Charles Winslow', target: 'Ethan Canin'},
{source: 'DeShawn Charles Winslow', target: 'Grace McNamee'},
{source: 'DeShawn Charles Winslow', target: 'Jade Jones'},
{source: 'DeShawn Charles Winslow', target: 'Janklow & Nesbit'},
{source: 'DeShawn Charles Winslow', target: 'Kevin Smith'},
{source: 'DeShawn Charles Winslow', target: 'Mia Bailey'},
{source: 'DeShawn Charles Winslow', target: 'Noel Carver'},
{source: 'DeShawn Charles Winslow', target: 'Rebecca Makkai'},
{source: 'DeShawn Charles Winslow', target: 'Samantha Chang'},
{source: 'Diane Zinna', target: 'Bread Loaf'},
{source: 'Diane Zinna', target: 'Curtis Brown'},
{source: 'Diane Zinna', target: 'Julia Phillips'},
{source: 'Diane Zinna', target: 'Random House'},
{source: 'Diane Zinna', target: 'Rebecca Makkai'},
{source: 'Diane Zinna', target: 'Sewanee'},
{source: 'Diane Zinna', target: 'Tin House'},
{source: 'Elizabeth Wetmore', target: 'Georges Borchardt'},
{source: 'Elizabeth Wetmore', target: 'Helen Garnons-Williams'},
{source: 'Elizabeth Wetmore', target: 'Luis Alberto Urrea'},
{source: 'Elizabeth Wetmore', target: 'MacDowell'},
{source: 'Elizabeth Wetmore', target: 'Marilynne Robinson'},
{source: 'Elizabeth Wetmore', target: 'National Endowment for the Arts'},
{source: 'Elizabeth Wetmore', target: 'Rona Jaffe Foundation'},
{source: 'Elizabeth Wetmore', target: 'Samantha Chang'},
{source: 'Elvia Wilk', target: 'Cynthia Cannell Literary Agency'},
{source: 'Fernando A. Flores', target: 'HG Literary'},
{source: 'Fernando A. Flores', target: 'Sean McDonald'},
{source: 'Hilary Leichter', target: 'Columbia University'},
{source: 'Hilary Leichter', target: 'Dennis Norris II'},
{source: 'Hilary Leichter', target: 'New York Foundation for the Arts'},
{source: 'Hilary Leichter', target: 'Ruchika Tomar'},
{source: 'Hilary Leichter', target: 'Triangle House Literary'},
{source: 'Jake Wolff', target: 'DeFiore and Company'},
{source: 'Joanne Ramos', target: 'ICM'},
{source: 'Joanne Ramos', target: 'Random House'},
{source: 'Joe Wilkins', target: 'Union Literary'},
{source: 'Julia Phillips', target: 'Sewanee'},
{source: 'Julia Phillips', target: 'Tin House'},
{source: 'Julia Phillips', target: 'William Morris Endeavor'},
{source: 'K-Ming Chang', target: 'Chris Jackson'},
{source: 'K-Ming Chang', target: 'HG Literary'},
{source: 'Kate Elizabeth Russell', target: 'ICM'},
{source: 'Kate Elizabeth Russell', target: 'Katie'},
{source: 'Kate Milliken', target: 'Amy Hempel'},
{source: 'Kate Milliken', target: 'DeFiore and Company'},
{source: 'Kate Milliken', target: 'Emily Mahon'},
{source: 'Kate Milliken', target: 'Luis Alberto Urrea'},
{source: 'Kate Milliken', target: 'Tin House'},
{source: 'Kate Petty Reed', target: 'Brandt & Hochman'},
{source: 'Kawai Strong Washburn', target: 'Aragi, Inc.'},
{source: 'Kawai Strong Washburn', target: 'Bread Loaf'},
{source: 'Kawai Strong Washburn', target: 'Sean McDonald'},
{source: 'Kawai Strong Washburn', target: 'Tin House'},
{source: 'Kelli Jo Ford', target: 'Bread Loaf'},
{source: 'Kelli Jo Ford', target: 'Cal Morgan'},
{source: 'Kelli Jo Ford', target: 'Deb Seager'},
{source: 'Kelli Jo Ford', target: 'James Nolan'},
{source: 'Kelli Jo Ford', target: 'Judy Hottensen'},
{source: 'Kelli Jo Ford', target: 'Katie Raissian'},
{source: 'Kelli Jo Ford', target: 'Morgan Entrekin'},
{source: 'Kelli Jo Ford', target: 'The'},
{source: 'Kelli Jo Ford', target: 'The Cheney Agency'},
{source: 'Lauren Acampora', target: 'Deb Seager'},
{source: 'Lauren Acampora', target: 'Judy Hottensen'},
{source: 'Lauren Acampora', target: 'Katie Raissian'},
{source: 'Lauren Acampora', target: 'Morgan Entrekin'},
{source: 'Lauren Acampora', target: 'The Clegg Agency'},
{source: 'Lauren Wilkinson', target: 'The Wylie Agency'},
{source: 'Maisy Card', target: 'Amy Hempel'},
{source: 'Maisy Card', target: 'Lisa Ko'},
{source: 'Maisy Card', target: 'Liza Dawson Associates'},
{source: 'Maurice Carlos Ruffin', target: 'Alexander Chee'},
{source: 'Maurice Carlos Ruffin', target: 'Bread Loaf'},
{source: 'Maurice Carlos Ruffin', target: 'Chris Jackson'},
{source: 'Maurice Carlos Ruffin', target: 'James Nolan'},
{source: 'Maurice Carlos Ruffin', target: 'Janklow & Nesbit'},
{source: 'Maurice Carlos Ruffin', target: 'Rachel Kushner'},
{source: 'Maurice Carlos Ruffin', target: 'VONA'},
{source: 'Melissa Rivero', target: 'Center for Fiction'},
{source: 'Melissa Rivero', target: 'Dennis Norris II'},
{source: 'Melissa Rivero', target: 'HG Literary'},
{source: 'Melissa Rivero', target: 'Lisa Ko'},
{source: 'Melissa Rivero', target: 'Luis Alberto Urrea'},
{source: 'Melissa Rivero', target: 'Megan Lynch'},
{source: 'Melissa Rivero', target: 'VONA'},
{source: 'Miciah Bay Gault', target: 'Amy Jones'},
{source: 'Miciah Bay Gault', target: 'Arthur Flowers'},
{source: 'Miciah Bay Gault', target: 'Laura Gianino'},
{source: 'Miciah Bay Gault', target: 'Margaret Marbury'},
{source: 'Miciah Bay Gault', target: 'Randy Chan'},
{source: 'Miciah Bay Gault', target: 'Union Literary'},
{source: 'Namwali Serpell', target: 'Janklow & Nesbit'},
{source: 'Namwali Serpell', target: 'The'},
{source: 'Nancy Wayson Dinan', target: 'Curtis Brown'},
{source: 'Nancy Wayson Dinan', target: 'Grace McNamee'},
{source: 'Nancy Wayson Dinan', target: 'Katie'},
{source: 'Ocean Vuong', target: 'Alexander Chee'},
{source: 'Ocean Vuong', target: 'Aragi, Inc.'},
{source: 'Pitchaya Sudbanthad', target: 'Alexander Chee'},
{source: 'Pitchaya Sudbanthad', target: 'Aragi, Inc.'},
{source: 'Pitchaya Sudbanthad', target: 'MacDowell'},
{source: 'Pitchaya Sudbanthad', target: 'Michelle Koufopoulos'},
{source: 'Raven Leilani', target: 'Katie'},
{source: 'Raven Leilani', target: 'Trident Media Group'},
{source: 'Ruchika Tomar', target: 'Cal Morgan'},
{source: 'Ruchika Tomar', target: 'Center for Fiction'},
{source: 'Ruchika Tomar', target: 'Joy Harris Literary Agency'},
{source: 'Ruchika Tomar', target: 'MacDowell'},
{source: 'Sahar Mustafah', target: 'Rebecca Makkai'},
{source: 'Sahar Mustafah', target: 'Robin Straus Agency'},
{source: 'Susie Yang', target: 'Elizabeth Breeden'},
{source: 'Susie Yang', target: 'Tin House'},
{source: 'Susie Yang', target: 'Union Literary'},
{source: 'Ta-Nahisi Coates', target: 'Watkins/Loomis Agency'},
];

const nodesData = [
{id: 'Afia Atakora', size: 10, color: 'red'},
{id: 'Alka Joshi', size: 10, color: 'red'},
{id: 'Amina Cain', size: 10, color: 'red'},
{id: 'Brandon Taylor', size: 10, color: 'red'},
{id: 'C Pam Zhang', size: 10, color: 'red'},
{id: 'Callan Wink', size: 10, color: 'red'},
{id: 'Cara Wall', size: 10, color: 'red'},
{id: 'Celia Laskey', size: 10, color: 'red'},
{id: 'Chanelle Benz', size: 10, color: 'red'},
{id: 'Charlie Kaufman', size: 10, color: 'red'},
{id: 'Chelsea Bieker', size: 10, color: 'red'},
{id: 'Chia-Chia Lin', size: 10, color: 'red'},
{id: 'Claire Lombardo', size: 10, color: 'red'},
{id: 'Clare Beams', size: 10, color: 'red'},
{id: 'Corey Sobel', size: 10, color: 'red'},
{id: 'Dana Czapnik', size: 10, color: 'red'},
{id: 'DeShawn Charles Winslow', size: 10, color: 'red'},
{id: 'Diane Zinna', size: 10, color: 'red'},
{id: 'Elizabeth Wetmore', size: 10, color: 'red'},
{id: 'Elvia Wilk', size: 10, color: 'red'},
{id: 'Fernando A. Flores', size: 10, color: 'red'},
{id: 'Hilary Leichter', size: 10, color: 'red'},
{id: 'Jake Wolff', size: 10, color: 'red'},
{id: 'Joanne Ramos', size: 10, color: 'red'},
{id: 'Joe Wilkins', size: 10, color: 'red'},
{id: 'Julia Phillips', size: 10, color: 'red'},
{id: 'K-Ming Chang', size: 10, color: 'red'},
{id: 'Kate Elizabeth Russell', size: 10, color: 'red'},
{id: 'Kate Milliken', size: 10, color: 'red'},
{id: 'Kate Petty Reed', size: 10, color: 'red'},
{id: 'Kawai Strong Washburn', size: 10, color: 'red'},
{id: 'Kelli Jo Ford', size: 10, color: 'red'},
{id: 'Lauren Acampora', size: 10, color: 'red'},
{id: 'Lauren Wilkinson', size: 10, color: 'red'},
{id: 'Maisy Card', size: 10, color: 'red'},
{id: 'Maurice Carlos Ruffin', size: 10, color: 'red'},
{id: 'Melissa Rivero', size: 10, color: 'red'},
{id: 'Miciah Bay Gault', size: 10, color: 'red'},
{id: 'Namwali Serpell', size: 10, color: 'red'},
{id: 'Nancy Wayson Dinan', size: 10, color: 'red'},
{id: 'Ocean Vuong', size: 10, color: 'red'},
{id: 'Pitchaya Sudbanthad', size: 10, color: 'red'},
{id: 'Raven Leilani', size: 10, color: 'red'},
{id: 'Ruchika Tomar', size: 10, color: 'red'},
{id: 'Sahar Mustafah', size: 10, color: 'red'},
{id: 'Susie Yang', size: 10, color: 'red'},
{id: 'Ta-Nahisi Coates', size: 10, color: 'red'},
{id: 'Columbia University', size: 20, color: '#F2AD00'},
{id: 'Helen Garnons-Williams', size: 20, color: '#F2AD00'},
{id: 'ICM', size: 30, color: '#F2AD00'},
{id: 'Random House', size: 30, color: '#F2AD00'},
{id: 'Tin House', size: 70, color: 'blue', label: 'Tin House'},
{id: 'Amy Jones', size: 20, color: '#F2AD00'},
{id: 'Emma Sweeney Agency', size: 10, color: 'red'},
{id: 'Laura Gianino', size: 20, color: '#F2AD00'},
{id: 'Margaret Marbury', size: 20, color: '#F2AD00'},
{id: 'Randy Chan', size: 20, color: '#F2AD00'},
{id: 'Janklow & Nesbit', size: 40, color: '#F2AD00'},
{id: 'Cal Morgan', size: 30, color: '#F2AD00'},
{id: 'DeFiore and Company', size: 30, color: '#F2AD00'},
{id: 'The Clegg Agency', size: 20, color: '#F2AD00'},
{id: 'Steinberg Agency', size: 10, color: 'red'},
{id: 'Elizabeth Breeden', size: 20, color: '#F2AD00'},
{id: 'Harvey Klinger', size: 10, color: 'red'},
{id: 'Michelle Koufopoulos', size: 20, color: '#F2AD00'},
{id: 'Trident Media Group', size: 30, color: '#F2AD00'},
{id: 'Arthur Flowers', size: 20, color: '#F2AD00'},
{id: 'Ben Greenberg', size: 20, color: '#F2AD00'},
{id: 'Denise Shannon Literary Agency', size: 10, color: 'red'},
{id: 'Megan Lynch', size: 20, color: '#F2AD00'},
{id: 'MacDowell', size: 50, color: '#F2AD00'},
{id: 'William Morris Endeavor', size: 20, color: '#F2AD00'},
{id: 'Georges Borchardt', size: 20, color: '#F2AD00'},
{id: 'Katie', size: 40, color: '#F2AD00'},
{id: 'Rachel Kushner', size: 20, color: '#F2AD00'},
{id: 'Rona Jaffe Foundation', size: 20, color: '#F2AD00'},
{id: '3 Arts Entertainment', size: 10, color: 'red'},
{id: 'Charlie DAmbrosio', size: 20, color: '#F2AD00'},
{id: 'Ethan Canin', size: 30, color: '#F2AD00'},
{id: 'Marilynne Robinson', size: 20, color: '#F2AD00'},
{id: 'Noel Carver', size: 20, color: '#F2AD00'},
{id: 'Sarah Frye', size: 20, color: '#F2AD00'},
{id: 'Amanda Dennis', size: 20, color: '#F2AD00'},
{id: 'Drew Calvert', size: 20, color: '#F2AD00'},
{id: 'Jade Jones', size: 20, color: '#F2AD00'},
{id: 'Kevin Smith', size: 20, color: '#F2AD00'},
{id: 'Lee Boudreaux', size: 20, color: '#F2AD00'},
{id: 'Mia Bailey', size: 20, color: '#F2AD00'},
{id: 'Aevitas Creative Management', size: 20, color: '#F2AD00'},
{id: 'Bread Loaf', size: 60, color: '#F2AD00'},
{id: 'Emily Mahon', size: 20, color: '#F2AD00'},
{id: 'National Endowment for the Arts', size: 20, color: '#F2AD00'},
{id: 'Sewanee', size: 40, color: '#F2AD00'},
{id: 'Center for Fiction', size: 30, color: '#F2AD00'},
{id: 'Levine Greenberg Rostan', size: 10, color: 'red'},
{id: 'New York Foundation for the Arts', size: 20, color: '#F2AD00'},
{id: 'Grace McNamee', size: 20, color: '#F2AD00'},
{id: 'Rebecca Makkai', size: 30, color: '#F2AD00'},
{id: 'Samantha Chang', size: 20, color: '#F2AD00'},
{id: 'Curtis Brown', size: 20, color: '#F2AD00'},
{id: 'Luis Alberto Urrea', size: 30, color: '#F2AD00'},
{id: 'Cynthia Cannell Literary Agency', size: 10, color: 'red'},
{id: 'HG Literary', size: 30, color: '#F2AD00'},
{id: 'Sean McDonald', size: 20, color: '#F2AD00'},
{id: 'Dennis Norris II', size: 20, color: '#F2AD00'},
{id: 'Triangle House Literary', size: 10, color: 'red'},
{id: 'Union Literary', size: 30, color: '#F2AD00'},
{id: 'Chris Jackson', size: 20, color: '#F2AD00'},
{id: 'Amy Hempel', size: 20, color: '#F2AD00'},
{id: 'Brandt & Hochman', size: 10, color: 'red'},
{id: 'Aragi, Inc.', size: 30, color: '#F2AD00'},
{id: 'Deb Seager', size: 20, color: '#F2AD00'},
{id: 'James Nolan', size: 20, color: '#F2AD00'},
{id: 'Judy Hottensen', size: 20, color: '#F2AD00'},
{id: 'Katie Raissian', size: 20, color: '#F2AD00'},
{id: 'Morgan Entrekin', size: 20, color: '#F2AD00'},
{id: 'The', size: 20, color: '#F2AD00'},
{id: 'The Cheney Agency', size: 10, color: 'red'},
{id: 'The Wylie Agency', size: 10, color: 'red'},
{id: 'Lisa Ko', size: 20, color: '#F2AD00'},
{id: 'Liza Dawson Associates', size: 10, color: 'red'},
{id: 'Alexander Chee', size: 30, color: '#F2AD00'},
{id: 'VONA', size: 20, color: '#F2AD00'},
{id: 'Joy Harris Literary Agency', size: 10, color: 'red'},
{id: 'Robin Straus Agency', size: 10, color: 'red'},
{id: 'Watkins/Loomis Agency', size: 10, color: 'red'},
];

const svg = d3.select('body')
  .append('svg')
  .attr('width', width)
  .attr('height', height);

const simulation = d3.forceSimulation()
  .force("link", d3.forceLink().id(d => d.id))
  .force("charge", d3.forceManyBody())
  .force("center", d3.forceCenter(width / 2, height / 2));

const links = edges.map(e => ({
  source: nodesData.find(n => n.id === e.source),
  target: nodesData.find(n => n.id === e.target)
}));

const link = svg.append("g")
  .selectAll("line")
  .data(links)
  .join("line")
  .attr("class", "link")
  .attr("opacity", 0);

const node = svg.append("g")
  .selectAll("g")
  .data(nodesData)
  .join("g")
  .call(drag(simulation));

node.append("circle")
  .attr("class", "node")
  .attr("r", d => d.size)
  .attr("fill", d => d.color)
  .on("click", (event, d) => handleClick(event, d))
  .on("mouseover", (event, d) => handleMouseOver(event, d))
  .on("mouseout", (event, d) => handleMouseOut(event, d));

// Step 2: Add the label text for nodes with a 'label' property
//node.filter(d => d.label).append("text")
  //.text(d => d.label)
  //.attr("dx", d => d.size + 5)
  //.attr("dy", ".35em");

simulation.nodes(nodesData).on("tick", ticked);
simulation.force("link").links(links);

function handleMouseOver(event, d) {
  if (d.label) {
    const tooltip = d3.select("#tooltip");
    tooltip
      .style("visibility", "visible")
      .text(d.label)
      .style("left", (event.pageX + 10) + "px")
      .style("top", (event.pageY - 10) + "px");
  }
}

function handleMouseOut(event, d) {
  d3.select("#tooltip").style("visibility", "hidden");
}

function handleClick(event, d) {
  // Reset the opacity of all nodes and links to 1
  node.selectAll("circle").attr("opacity", 1);

  // Set the opacity of unconnected nodes to 0.5
  const connectedNodes = [d.id];
  links.forEach(link => {
    if (link.source.id === d.id) {
      connectedNodes.push(link.target.id);
    } else if (link.target.id === d.id) {
      connectedNodes.push(link.source.id);
    }
  });

  node.selectAll("circle").filter(nodeData => !connectedNodes.includes(nodeData.id))
    .attr("opacity", 0.5);
}

function ticked() {
  link
    .attr("x1", d => d.source.x)
    .attr("y1", d => d.source.y)
    .attr("x2", d => d.target.x)
    .attr("y2", d => d.target.y);
  
  node
    .attr("transform", d => `translate(${d.x},${d.y})`);
}

function drag(simulation) {
  function dragstarted(event, d) {
    if (!event.active) simulation.alphaTarget(0.3).restart();
    d.fx = d.x;
    d.fy = d.y;
  }
  
  function dragged(event, d) {
    d.fx = event.x;
    d.fy = event.y;
  }
      
      function dragended(event, d) {
        if (!event.active) simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
      }
      
      return d3.drag()
        .on("start", dragstarted)
        .on("drag", dragged)
        .on("end", dragended);
    }
  </script>
</body>
</html>
