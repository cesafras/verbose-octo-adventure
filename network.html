<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    .link { stroke: #999; stroke-opacity: 0.6; }
    .node { stroke: #fff; stroke-width: 1.5px; }
  </style>
</head>
<body>
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script>
const width = 800;
const height = 600;

// Add this snippet to before the script src line to add back tooltip
//    <div id="tooltip" style="position: absolute; visibility: hidden; pointer-events: none; padding: 5px; background-color: rgba(0, 0, 0, 0.7); color: #fff; border-radius: 4px;"></div>

// Dummy data
const edges = [
{source: 'Charlie Kaufman', target: 'Ben Greenberg'},
{source: 'K-Ming Chang', target: 'Victory Matsui'},
{source: 'K-Ming Chang', target: 'Chris Jackson'},
{source: 'K-Ming Chang', target: 'Rachel Rokicki'},
{source: 'K-Ming Chang', target: 'Jess Bonet'},
{source: 'K-Ming Chang', target: 'Toni Morrison'},
{source: 'Afia Atakora', target: 'ICM'},
{source: 'Afia Atakora', target: 'HarperCollins'},
{source: 'Afia Atakora', target: 'Helen Garnons-Williams'},
{source: 'Afia Atakora', target: 'Elissa Schappell'},
{source: 'Afia Atakora', target: 'Columbia University'},
{source: 'Afia Atakora', target: 'Chinelo Okparanta'},
{source: 'Kelli Jo Ford', target: 'Elisabeth Schmitz'},
{source: 'Kelli Jo Ford', target: 'Katie Raissian'},
{source: 'Kelli Jo Ford', target: 'Morgan Entrekin'},
{source: 'Kelli Jo Ford', target: 'Judy Hottensen'},
{source: 'Kelli Jo Ford', target: 'Deb Seager'},
{source: 'Kelli Jo Ford', target: 'John Mark Boling'},
{source: 'Kelli Jo Ford', target: 'James Nolan'},
{source: 'Kelli Jo Ford', target: 'Bread Loaf'},
{source: 'Kelli Jo Ford', target: 'Cal Morgan'},
{source: 'Kelli Jo Ford', target: 'Emily Nemens'},
{source: 'Chelsea Bieker', target: 'Georges Borchardt'},
{source: 'Chelsea Bieker', target: 'Kristina Moore'},
{source: 'Chelsea Bieker', target: 'the Rona Jaffe Foundation'},
{source: 'Chelsea Bieker', target: 'Rachel Kushner'},
{source: 'Amina Cain', target: 'FSG'},
{source: 'Kate Milliken', target: 'Kara Watson'},
{source: 'Kate Milliken', target: 'Jaya Miceli'},
{source: 'Kate Milliken', target: 'Emily Mahon'},
{source: 'Kate Milliken', target: 'Amy Hempel'},
{source: 'Kate Milliken', target: 'Kara Levy'},
{source: 'Kate Milliken', target: 'Lydia Kiesling'},
{source: 'Kate Milliken', target: 'Yael Goldstein Love'},
{source: 'Kate Milliken', target: 'Luis Alberto Urrea'},
{source: 'Raven Leilani', target: 'FSG'},
{source: 'Kate Elizabeth Russell', target: 'Jessica Williams'},
{source: 'Brandon Taylor', target: 'Cal Morgan'},
{source: 'Kawai Strong Washburn', target: 'Tin House'},
{source: 'Hilary Leichter', target: 'Emily Gould'},
{source: 'Hilary Leichter', target: 'Columbia University'},
{source: 'Hilary Leichter', target: 'the New York Foundation'},
{source: 'Hilary Leichter', target: 'Dennis Norris II'},
{source: 'Diane Zinna', target: 'Clio Seraphim'},
{source: 'Diane Zinna', target: 'Random House'},
{source: 'Diane Zinna', target: 'Julia Phillips'},
{source: 'Diane Zinna', target: 'Lori Ostlund'},
{source: 'Diane Zinna', target: 'Rebecca Makkai'},
{source: 'Diane Zinna', target: 'Sewanee'},
{source: 'Diane Zinna', target: 'Bread Loaf'},
{source: 'Sahar Mustafah', target: 'Jill Bialosky'},
{source: 'Sahar Mustafah', target: 'Rebecca Makkai'},
{source: 'Alka Joshi', target: 'HarperCollins'},
{source: 'Alka Joshi', target: 'Loriana Sacilotto'},
{source: 'Alka Joshi', target: 'Margaret Marbury'},
{source: 'Alka Joshi', target: 'Amy Jones'},
{source: 'Alka Joshi', target: 'Randy Chan'},
{source: 'Alka Joshi', target: 'Laura Gianino'},
{source: 'Alka Joshi', target: 'Aimee Phan'},
{source: 'Alka Joshi', target: 'Jamaica Kincaid'},
{source: 'Clare Beams', target: 'Lee Boudreaux'},
{source: 'Clare Beams', target: 'Doubleday'},
{source: 'Clare Beams', target: 'Cara Reilly'},
{source: 'Clare Beams', target: 'Emily Mahon'},
{source: 'Clare Beams', target: 'the National Endowment for the Arts'},
{source: 'Clare Beams', target: 'Sewanee'},
{source: 'Maisy Card', target: 'Simon & Schuster'},
{source: 'Maisy Card', target: 'Lashanda Anakwah'},
{source: 'Maisy Card', target: 'Carina Guiterman'},
{source: 'Maisy Card', target: 'Amy Hempel'},
{source: 'Maisy Card', target: 'Lisa Ko'},
{source: 'Maisy Card', target: 'Victor LaValle'},
{source: 'Maisy Card', target: 'Kiese Laymon'},
{source: 'Nancy Wayson Dinan', target: 'Grace McNamee'},
{source: 'Nancy Wayson Dinan', target: 'Bloomsbury'},
{source: 'Kate Petty Reed', target: 'JT Petty'},
{source: 'Kate Petty Reed', target: 'JT Petty'},
{source: 'Celia Laskey', target: 'Michelle Koufopoulos'},
{source: 'Celia Laskey', target: 'Lori Ostlund'},
{source: 'Elizabeth Wetmore', target: 'the National Endowment for the Arts'},
{source: 'Elizabeth Wetmore', target: 'the Rona Jaffe Foundation'},
{source: 'Elizabeth Wetmore', target: 'Marilynne Robinson'},
{source: 'Elizabeth Wetmore', target: 'Luis Alberto Urrea'},
{source: 'Elizabeth Wetmore', target: 'Lan Samantha Chang'},
{source: 'Elizabeth Wetmore', target: 'Connie Brothers'},
{source: 'Elizabeth Wetmore', target: 'Deb West'},
{source: 'Elizabeth Wetmore', target: 'Helen Garnons-Williams'},
{source: 'Susie Yang', target: 'Marysue Rucci'},
{source: 'Susie Yang', target: 'Simon & Schuster'},
{source: 'Susie Yang', target: 'Elizabeth Breeden'},
{source: 'Susie Yang', target: 'Tin House'},
{source: 'Susie Yang', target: 'Stephen Hogsten'},
{source: 'Susie Yang', target: 'Angela Wu'},
{source: 'Susie Yang', target: 'Lucy Tan'},
{source: 'Cecilia Rabess', target: 'Carina Guiterman'},
{source: 'Cecilia Rabess', target: 'Lashanda Anakwah'},
{source: 'Cecilia Rabess', target: 'Simon & Schuster'},
{source: 'Cecilia Rabess', target: 'Simon & Schuster'},
{source: 'Cecilia Rabess', target: 'William Morris Endeavor'},
{source: 'Cecilia Rabess', target: 'Lydia Kiesling'},
{source: 'Melissa Rivero', target: 'Megan Lynch'},
{source: 'Melissa Rivero', target: 'Lisa Ko'},
{source: 'Melissa Rivero', target: 'Luis Alberto Urrea'},
{source: 'Melissa Rivero', target: 'The Center for Fiction'},
{source: 'Melissa Rivero', target: 'Dennis Norris II'},
{source: 'Lauren Wilkinson', target: 'Kristina Moore'},
{source: 'Lauren Wilkinson', target: 'John Freeman'},
{source: 'Lauren Wilkinson', target: 'David Ebershoff'},
{source: 'Pitchaya Sudbanthad', target: 'Michelle Koufopoulos'},
{source: 'Pitchaya Sudbanthad', target: 'Aragi, Inc.'},
{source: 'Pitchaya Sudbanthad', target: 'Alexander Chee'},
{source: 'Pitchaya Sudbanthad', target: 'the New York Foundation'},
{source: 'Cara Wall', target: 'Marysue Rucci'},
{source: 'Cara Wall', target: 'Elizabeth Breeden'},
{source: 'Cara Wall', target: 'Kristina Loverro'},
{source: 'Cara Wall', target: 'Mariko Tada'},
{source: 'Cara Wall', target: 'Lydia Snape'},
{source: 'Cara Wall', target: 'Alix Ford'},
{source: 'Cara Wall', target: 'Jan Geniesse'},
{source: 'Cara Wall', target: 'Alix Ford'},
{source: 'Cara Wall', target: 'Lydia Snape'},
{source: 'Cara Wall', target: 'Mariko Tada'},
{source: 'Cara Wall', target: 'Jan Geniesse'},
{source: 'Cara Wall', target: 'Kristina Loverro'},
{source: 'Cara Wall', target: 'Lydia Snape'},
{source: 'Julia Phillips', target: 'Chinelo Okparanta'},
{source: 'Julia Phillips', target: 'William Morris Endeavor'},
{source: 'Julia Phillips', target: 'Knopf'},
{source: 'Dana Czapnik', target: 'the New York Foundation'},
{source: 'Dana Czapnik', target: 'Daniella Wexler'},
{source: 'Dana Czapnik', target: 'Lisa Keim'},
{source: 'Dana Czapnik', target: 'Simon & Schuster'},
{source: 'Joanne Ramos', target: 'Joyce Barnes'},
{source: 'Joanne Ramos', target: 'Random House'},
{source: 'Joanne Ramos', target: 'Susan Kamil'},
{source: 'Joanne Ramos', target: 'Clio Seraphim'},
{source: 'Joanne Ramos', target: 'Joyce Barnes'},
{source: 'Miciah Bay Gault', target: 'Union Literary'},
{source: 'Miciah Bay Gault', target: 'HarperCollins'},
{source: 'Miciah Bay Gault', target: 'Laura Gianino'},
{source: 'Miciah Bay Gault', target: 'Margaret Marbury'},
{source: 'Miciah Bay Gault', target: 'Loriana Sacilotto'},
{source: 'Miciah Bay Gault', target: 'Randy Chan'},
{source: 'Miciah Bay Gault', target: 'Amy Jones'},
{source: 'Miciah Bay Gault', target: 'Arthur Flowers'},
{source: 'Miciah Bay Gault', target: 'Mary Karr'},
{source: 'Jake Wolff', target: 'Judith Claire Mitchell'},
{source: 'Jake Wolff', target: 'FSG'},
{source: 'Jake Wolff', target: 'Lydia Zoells'},
{source: 'DeShawn Charles Winslow', target: 'the Bread Loaf Writers Conference'},
{source: 'DeShawn Charles Winslow', target: 'Grace McNamee'},
{source: 'DeShawn Charles Winslow', target: 'Ethan Canin'},
{source: 'DeShawn Charles Winslow', target: 'Lan Samantha Chang'},
{source: 'DeShawn Charles Winslow', target: 'Rebecca Makkai'},
{source: 'DeShawn Charles Winslow', target: 'Connie Brothers'},
{source: 'DeShawn Charles Winslow', target: 'Deb West'},
{source: 'DeShawn Charles Winslow', target: 'Jan Zenisek'},
{source: 'DeShawn Charles Winslow', target: 'Mia Bailey'},
{source: 'DeShawn Charles Winslow', target: 'Jamel Brinkley'},
{source: 'DeShawn Charles Winslow', target: 'Drew Calvert'},
{source: 'DeShawn Charles Winslow', target: 'Noel Carver'},
{source: 'DeShawn Charles Winslow', target: 'Amanda Dennis'},
{source: 'DeShawn Charles Winslow', target: 'Garth Greenwell'},
{source: 'DeShawn Charles Winslow', target: 'Jade Jones'},
{source: 'DeShawn Charles Winslow', target: 'Alex Madison'},
{source: 'DeShawn Charles Winslow', target: 'Magogodi Makhene'},
{source: 'Chanelle Benz', target: 'Megan Lynch'},
{source: 'Chanelle Benz', target: 'Arthur Flowers'},
{source: 'Chanelle Benz', target: 'Ben Greenberg'},
{source: 'Claire Lombardo', target: 'Lee Boudreaux'},
{source: 'Claire Lombardo', target: 'Cara Reilly'},
{source: 'Claire Lombardo', target: 'Doubleday'},
{source: 'Claire Lombardo', target: 'Emily Mahon'},
{source: 'Claire Lombardo', target: 'Deb West'},
{source: 'Claire Lombardo', target: 'Jan Zenisek'},
{source: 'Claire Lombardo', target: 'Charlie DAmbrosio'},
{source: 'Claire Lombardo', target: 'Connie Brothers'},
{source: 'Claire Lombardo', target: 'Drew Calvert'},
{source: 'Claire Lombardo', target: 'Mia Bailey'},
{source: 'Claire Lombardo', target: 'Amanda Dennis'},
{source: 'Claire Lombardo', target: 'Jade Jones'},
{source: 'Claire Lombardo', target: 'Alex Madison'},
{source: 'Claire Lombardo', target: 'Sarah Frye'},
{source: 'Claire Lombardo', target: 'Ethan Canin'},
{source: 'Namwali Serpell', target: 'HarperCollins'},
{source: 'Namwali Serpell', target: 'New Yorker'},
{source: 'Namwali Serpell', target: 'Lan Samantha Chang'},
{source: 'Namwali Serpell', target: 'Jamaica Kincaid'},
{source: 'Namwali Serpell', target: 'Margaret Busby'},
{source: 'Namwali Serpell', target: 'Margaret Busby'},
{source: 'Namwali Serpell', target: 'Janklow & Nesbit'},
{source: 'Namwali Serpell', target: 'Hogarth'},
{source: 'Namwali Serpell', target: 'Molly Stern'},
{source: 'Namwali Serpell', target: 'Alexis Washam'},
{source: 'Namwali Serpell', target: 'Michael Taeckens'},
{source: 'Ocean Vuong', target: 'Roland Barthes'},
{source: 'Ocean Vuong', target: 'NYU'},
{source: 'Ocean Vuong', target: 'Ben Lerner'},
{source: 'Ocean Vuong', target: 'Roland Barthes'},
{source: 'Ocean Vuong', target: 'Alexander Chee'},
{source: 'Ocean Vuong', target: 'Ben Lerner'},
{source: 'Lauren Acampora', target: 'Elisabeth Schmitz'},
{source: 'Lauren Acampora', target: 'Katie Raissian'},
{source: 'Lauren Acampora', target: 'Morgan Entrekin'},
{source: 'Lauren Acampora', target: 'Judy Hottensen'},
{source: 'Lauren Acampora', target: 'Deb Seager'},
{source: 'Tope Folarin', target: 'Simon & Schuster'},
{source: 'Tope Folarin', target: 'Carina Guiterman'},
{source: 'Tope Folarin', target: 'Lashanda Anakwah'},
{source: 'Ruchika Tomar', target: 'The Center for Fiction'},
{source: 'Ruchika Tomar', target: 'Cal Morgan'},
{source: 'Ryan Chapman', target: 'Lashanda Anakwah'},
{source: 'Fernando A. Flores', target: 'Jackson Howard'},
{source: 'Rachel Eve Moulton', target: 'Antioch College'},
{source: 'Rachel Eve Moulton', target: 'Pam Houston'},
{source: 'Rachel Eve Moulton', target: 'Antioch College'},
{source: 'Rachel Eve Moulton', target: 'Lydia Zoells'},
{source: 'Chia-Chia Lin', target: 'Emily Bell'},
{source: 'Chia-Chia Lin', target: 'Jackson Howard'},
{source: 'Chia-Chia Lin', target: 'Jan Zenisek'},
{source: 'Chia-Chia Lin', target: 'Connie Brothers'},
{source: 'Chia-Chia Lin', target: 'Charlie DAmbrosio'},
{source: 'Chia-Chia Lin', target: 'Ethan Canin'},
{source: 'Chia-Chia Lin', target: 'Lan Samantha Chang'},
{source: 'Chia-Chia Lin', target: 'Marilynne Robinson'},
{source: 'Chia-Chia Lin', target: 'Pam Houston'},
{source: 'Chia-Chia Lin', target: 'D. Wystan Owen'},
{source: 'Chia-Chia Lin', target: 'Alex Madison'},
{source: 'Chia-Chia Lin', target: 'Jamel Brinkley'},
{source: 'Chia-Chia Lin', target: 'Sarah Frye'},
{source: 'Chia-Chia Lin', target: 'Garth Greenwell'},
{source: 'Chia-Chia Lin', target: 'Noel Carver'},
{source: 'Chia-Chia Lin', target: 'Magogodi Makhene'},
{source: 'Maurice Carlos Ruffin', target: 'Chris Jackson'},
{source: 'Maurice Carlos Ruffin', target: 'James Nolan'},
{source: 'Maurice Carlos Ruffin', target: 'Alexander Chee'},
{source: 'Maurice Carlos Ruffin', target: 'Kiese Laymon'},
{source: 'Maurice Carlos Ruffin', target: 'Rachel Kushner'},
{source: 'Maurice Carlos Ruffin', target: 'VONA'},
{source: 'Jasmin Darznik', target: 'Mary Karr'},
{source: 'Jasmin Darznik', target: 'Forugh Farrokhzad'},
{source: 'Jasmin Darznik', target: 'Elise Capron'},
{source: 'Jasmin Darznik', target: 'Forugh Farrokhzad'},
{source: 'Jasmin Darznik', target: 'Amy Hempel'},
{source: 'Jasmin Darznik', target: 'Aimee Phan'},
{source: 'Tommy Orange', target: 'Pam Houston'},
{source: 'Tommy Orange', target: 'Knopf'},
{source: 'Lucy Tan', target: 'Judith Claire Mitchell'},
{source: 'Lucy Tan', target: 'Fletcher & Company'},
{source: 'Lucy Tan', target: 'NYU'},
{source: 'Lucy Tan', target: 'Angela Wu'},
{source: 'Lucy Tan', target: 'Stephen Hogsten'},
{source: 'Melissa Broder', target: 'Alexis Washam'},
{source: 'Melissa Broder', target: 'Molly Stern'},
{source: 'Melissa Broder', target: 'Rachel Rokicki'},
{source: 'Melissa Broder', target: 'Lindsay Sagnette'},
{source: 'Melissa Broder', target: 'Hogarth'},
{source: 'Melissa Broder', target: 'Bloomsbury'},
{source: 'Melissa Broder', target: 'Amy Jones'},
{source: 'Fatima Farheen Mirza', target: 'Lan Samantha Chang'},
{source: 'Fatima Farheen Mirza', target: 'Ethan Canin'},
{source: 'Fatima Farheen Mirza', target: 'Marilynne Robinson'},
{source: 'Fatima Farheen Mirza', target: 'Connie Brothers'},
{source: 'Fatima Farheen Mirza', target: 'Deb West'},
{source: 'Fatima Farheen Mirza', target: 'Jan Zenisek'},
{source: 'Fatima Farheen Mirza', target: 'Lan Samantha Chang'},
{source: 'Fatima Farheen Mirza', target: 'Garth Greenwell'},
{source: 'Fatima Farheen Mirza', target: 'D. Wystan Owen'},
{source: 'Fatima Farheen Mirza', target: 'Rachel Rokicki'},
{source: 'Fatima Farheen Mirza', target: 'Molly Stern'},
{source: 'Fatima Farheen Mirza', target: 'Lindsay Sagnette'},
{source: 'Jen Beagin', target: 'Michael Taeckens'},
{source: 'Dan Sheehan', target: 'Janklow & Nesbit'},
{source: 'Dan Sheehan', target: 'The Center for Fiction'},
{source: 'Dan Sheehan', target: 'Jasminko Halilovic'},
{source: 'Dan Sheehan', target: 'Jasminko Halilovic'},
{source: 'Dan Sheehan', target: 'New Yorker'},
{source: 'Moriel Rothman-Zecher', target: 'Daniella Wexler'},
{source: 'Moriel Rothman-Zecher', target: 'Lisa Keim'},
{source: 'Moriel Rothman-Zecher', target: 'Simon & Schuster'},
{source: 'Moriel Rothman-Zecher', target: 'David Shulman'},
{source: 'Rachel Lyon', target: 'Kara Watson'},
{source: 'Rachel Lyon', target: 'Jaya Miceli'},
{source: 'Rachel Lyon', target: 'DeFiore and Company'},
{source: 'Rachel Lyon', target: 'Julia Phillips'},
{source: 'Shobha Rao', target: 'Elise Capron'},
{source: 'Lydia Kiesling', target: 'Emily Bell'},
{source: 'Lydia Kiesling', target: 'Jackson Howard'},
{source: 'Lydia Kiesling', target: 'Oya Topçuoğlu'},
{source: 'Lydia Kiesling', target: 'Emily Gould'},
{source: 'Lydia Kiesling', target: 'Kara Levy'},
{source: 'Lydia Kiesling', target: 'Yael Goldstein Love'},
{source: 'Lydia Kiesling', target: 'Katie Raissian'},
{source: 'Lydia Kiesling', target: 'Lucy Tan'},
{source: 'Lydia Kiesling', target: 'Oya Topçuoğlu'},
{source: 'Crystal Hana Kim', target: 'Jessica Williams'},
{source: 'Crystal Hana Kim', target: 'Emily Nemens'},
{source: 'Crystal Hana Kim', target: 'Columbia University'},
{source: 'Crystal Hana Kim', target: 'David Ebershoff'},
{source: 'Crystal Hana Kim', target: 'John Freeman'},
{source: 'Crystal Hana Kim', target: 'Elissa Schappell'},
{source: 'Lexi Freiman', target: 'Megan Lynch'},
{source: 'Lillian Li', target: 'Jeffrey Eugenides'},
{source: 'Nafkote Tamirat', target: 'Victor LaValle'},
{source: 'Elaine Castillo', target: 'John Freeman'},
{source: 'Elaine Castillo', target: 'John Mark Boling'},
{source: 'Elaine Castillo', target: 'Rogers, Coleridge & White'},
{source: 'Elaine Castillo', target: 'VONA'},
{source: 'Elaine Castillo', target: 'Junot Díaz'},
{source: 'Xhenet Aliu', target: 'Andrea Walker'},
{source: 'Xhenet Aliu', target: 'Avideh Bashirrad'},
{source: 'Xhenet Aliu', target: 'Random House'},
{source: 'Xhenet Aliu', target: 'Andy Ward'},
{source: 'Xhenet Aliu', target: 'Susan Kamil'},
{source: 'Xhenet Aliu', target: 'Leigh Marchant'},
{source: 'Xhenet Aliu', target: 'Emma Caruso'},
{source: 'Xhenet Aliu', target: 'The Book Group'},
{source: 'Xhenet Aliu', target: 'the Bread Loaf Writers Conference'},
{source: 'Jordy Rosenberg', target: 'Victory Matsui'},
{source: 'Jordy Rosenberg', target: 'Chris Jackson'},
{source: 'Jordy Rosenberg', target: 'Victory Matsui'},
{source: 'Jordy Rosenberg', target: 'UCLA'},
{source: 'Jordy Rosenberg', target: 'UCLA'},
{source: 'Jordy Rosenberg', target: 'Junot Díaz'},
{source: 'Jordy Rosenberg', target: 'Andrea Lawlor'},
{source: 'Jordy Rosenberg', target: 'Random House'},
{source: 'Jordy Rosenberg', target: 'Rachel Kushner'},
{source: 'Jordy Rosenberg', target: 'Victor LaValle'},
{source: 'Jordy Rosenberg', target: 'David Shulman'},
{source: 'Jordy Rosenberg', target: 'Michael Taeckens'},
{source: 'Jordy Rosenberg', target: 'Andrea Lawlor'},
{source: 'Blair Hurley', target: 'Jill Bialosky'},
{source: 'Blair Hurley', target: 'Jeffrey Eugenides'},
{source: 'Blair Hurley', target: 'NYU'},
{source: 'Blair Hurley', target: 'Tin House'},
{source: 'Blair Hurley', target: 'Bread Loaf'},
{source: 'Blair Hurley', target: 'Sewanee'},
{source: 'Paula Saunders', target: 'Random House'},
{source: 'Paula Saunders', target: 'Andrea Walker'},
{source: 'Paula Saunders', target: 'Susan Kamil'},
{source: 'Paula Saunders', target: 'Avideh Bashirrad'},
{source: 'Paula Saunders', target: 'Jess Bonet'},
{source: 'Paula Saunders', target: 'Leigh Marchant'},
{source: 'Paula Saunders', target: 'Emma Caruso'},
{source: 'Paula Saunders', target: 'Andy Ward'},
{source: 'Paula Saunders', target: 'ICM'},
{source: 'Paula Saunders', target: 'Toni Morrison'},
{source: 'Charlie Kaufman', target: 'William Morris Endeavor'},
{source: 'K-Ming Chang', target: 'HG Literary'},
{source: 'Afia Atakora', target: 'ICM'},
{source: 'Chelsea Bieker', target: 'Georges Borchardt'},
{source: 'C Pam Zhang', target: 'The Clegg Agency'},
{source: 'Amina Cain', target: 'Janklow & Nesbit'},
{source: 'Kate Milliken', target: 'DeFiore and Company'},
{source: 'Raven Leilani', target: 'Trident Media Group'},
{source: 'Kate Elizabeth Russell', target: 'ICM'},
{source: 'Brandon Taylor', target: 'DeFiore and Company'},
{source: 'Kawai Strong Washburn', target: 'Aragi, Inc.'},
{source: 'Diane Zinna', target: 'Curtis Brown'},
{source: 'Clare Beams', target: 'Aevitas Creative Management'},
{source: 'Corey Sobel', target: 'Aevitas Creative Management'},
{source: 'Nancy Wayson Dinan', target: 'Curtis Brown'},
{source: 'Celia Laskey', target: 'Trident Media Group'},
{source: 'Elizabeth Wetmore', target: 'Georges Borchardt'},
{source: 'Susie Yang', target: 'Union Literary'},
{source: 'Cecilia Rabess', target: 'William Morris Endeavor'},
{source: 'Melissa Rivero', target: 'HG Literary'},
{source: 'Lauren Wilkinson', target: 'The Wylie Agency'},
{source: 'Pitchaya Sudbanthad', target: 'Aragi, Inc.'},
{source: 'Julia Phillips', target: 'William Morris Endeavor'},
{source: 'Joe Wilkins', target: 'Union Literary'},
{source: 'Joanne Ramos', target: 'ICM'},
{source: 'Miciah Bay Gault', target: 'Union Literary'},
{source: 'Jake Wolff', target: 'DeFiore and Company'},
{source: 'DeShawn Charles Winslow', target: 'Janklow & Nesbit'},
{source: 'Claire Lombardo', target: 'Trident Media Group'},
{source: 'Namwali Serpell', target: 'Janklow & Nesbit'},
{source: 'Ocean Vuong', target: 'Aragi, Inc.'},
{source: 'Lauren Acampora', target: 'The Clegg Agency'},
{source: 'Ryan Chapman', target: 'Janklow & Nesbit'},
{source: 'Fernando A. Flores', target: 'HG Literary'},
{source: 'Ta-Nahisi Coates', target: 'Watkins/Loomis Agency'},
{source: 'Maurice Carlos Ruffin', target: 'Janklow & Nesbit'},
{source: 'Jasmin Darznik', target: 'Sandra Dijkstra Literary Agency'},
{source: 'Tommy Orange', target: 'Aragi, Inc.'},
{source: 'Tadzio Koelb', target: 'ICM'},
{source: 'Lucy Tan', target: 'Fletcher & Company'},
{source: 'Melissa Broder', target: 'DeFiore and Company'},
{source: 'Fatima Farheen Mirza', target: 'The Wylie Agency'},
{source: 'Jen Beagin', target: 'ICM'},
{source: 'Dan Sheehan', target: 'Janklow & Nesbit'},
{source: 'Moriel Rothman-Zecher', target: 'HG Literary'},
{source: 'Rachel Lyon', target: 'DeFiore and Company'},
{source: 'Shobha Rao', target: 'Sandra Dijkstra Literary Agency'},
{source: 'Lydia Kiesling', target: 'William Morris Endeavor'},
{source: 'Crystal Hana Kim', target: 'Curtis Brown'},
{source: 'Lexi Freiman', target: 'Writers House'},
{source: 'Nafkote Tamirat', target: 'Watkins/Loomis Agency'},
{source: 'Elaine Castillo', target: 'Rogers, Coleridge & White'},
{source: 'Xhenet Aliu', target: 'The Book Group'},
{source: 'Jordy Rosenberg', target: 'Writers House'},
{source: 'Blair Hurley', target: 'The Clegg Agency'},
{source: 'Paula Saunders', target: 'ICM'},
];

const nodesData = [
{id: 'Aevitas Creative Management', size: 20, color: '#03A5D4', label: 'Aevitas Creative Management'},
{id: 'Afia Atakora', size: 10, color: '#EE1D23', label: ''},
{id: 'Aimee Phan', size: 20, color: '#FBCEC9', label: ''},
{id: 'Alex Madison', size: 30, color: '#FBCEC9', label: ''},
{id: 'Alexander Chee', size: 30, color: '#FBCEC9', label: ''},
{id: 'Alexis Washam', size: 20, color: '#FBCEC9', label: ''},
{id: 'Alix Ford', size: 20, color: '#FBCEC9', label: ''},
{id: 'Alka Joshi', size: 10, color: '#EE1D23', label: ''},
{id: 'Amanda Dennis', size: 20, color: '#FBCEC9', label: ''},
{id: 'Amina Cain', size: 10, color: '#EE1D23', label: ''},
{id: 'Amy Hempel', size: 30, color: '#FBCEC9', label: ''},
{id: 'Amy Jones', size: 30, color: '#FBCEC9', label: ''},
{id: 'Andrea Lawlor', size: 20, color: '#FBCEC9', label: ''},
{id: 'Andrea Walker', size: 20, color: '#FBCEC9', label: ''},
{id: 'Andy Ward', size: 20, color: '#FBCEC9', label: ''},
{id: 'Angela Wu', size: 20, color: '#FBCEC9', label: ''},
{id: 'Antioch College', size: 20, color: '#add8e6', label: 'Antioch College'},
{id: 'Aragi, Inc.', size: 50, color: '#03A5D4', label: 'Aragi, Inc.'},
{id: 'Arthur Flowers', size: 20, color: '#FBCEC9', label: ''},
{id: 'Avideh Bashirrad', size: 20, color: '#FBCEC9', label: ''},
{id: 'Ben Greenberg', size: 20, color: '#FBCEC9', label: ''},
{id: 'Ben Lerner', size: 20, color: '#FBCEC9', label: ''},
{id: 'Blair Hurley', size: 10, color: '#EE1D23', label: ''},
{id: 'Bloomsbury', size: 20, color: '#add8e6', label: 'Bloomsbury'},
{id: 'Brandon Taylor', size: 10, color: '#EE1D23', label: ''},
{id: 'Bread Loaf', size: 30, color: '#add8e6', label: 'Bread Loaf'},
{id: 'C Pam Zhang', size: 10, color: '#EE1D23', label: ''},
{id: 'Cal Morgan', size: 30, color: '#FBCEC9', label: ''},
{id: 'Callan Wink', size: 10, color: '#EE1D23', label: ''},
{id: 'Cara Reilly', size: 20, color: '#FBCEC9', label: ''},
{id: 'Cara Wall', size: 10, color: '#EE1D23', label: ''},
{id: 'Carina Guiterman', size: 30, color: '#FBCEC9', label: ''},
{id: 'Cecilia Rabess', size: 10, color: '#48a219', label: 'Me'},
{id: 'Celia Laskey', size: 10, color: '#EE1D23', label: ''},
{id: 'Chanelle Benz', size: 10, color: '#EE1D23', label: ''},
{id: 'Charlie DAmbrosio', size: 20, color: '#FBCEC9', label: ''},
{id: 'Charlie Kaufman', size: 10, color: '#EE1D23', label: ''},
{id: 'Chelsea Bieker', size: 10, color: '#EE1D23', label: ''},
{id: 'Chia-Chia Lin', size: 10, color: '#EE1D23', label: ''},
{id: 'Chinelo Okparanta', size: 20, color: '#FBCEC9', label: ''},
{id: 'Chris Jackson', size: 30, color: '#FBCEC9', label: ''},
{id: 'Claire Lombardo', size: 10, color: '#EE1D23', label: ''},
{id: 'Clare Beams', size: 10, color: '#EE1D23', label: ''},
{id: 'Clio Seraphim', size: 20, color: '#FBCEC9', label: ''},
{id: 'Columbia University', size: 30, color: '#add8e6', label: 'Columbia University'},
{id: 'Connie Brothers', size: 50, color: '#add8e6', label: 'Connie Brothers'},
{id: 'Corey Sobel', size: 10, color: '#EE1D23', label: ''},
{id: 'Crystal Hana Kim', size: 10, color: '#EE1D23', label: ''},
{id: 'Curtis Brown', size: 20, color: '#03A5D4', label: 'Curtis Brown'},
{id: 'D. Wystan Owen', size: 20, color: '#FBCEC9', label: ''},
{id: 'Dan Sheehan', size: 10, color: '#EE1D23', label: ''},
{id: 'Dana Czapnik', size: 10, color: '#EE1D23', label: ''},
{id: 'Daniella Wexler', size: 20, color: '#FBCEC9', label: ''},
{id: 'David Ebershoff', size: 20, color: '#FBCEC9', label: ''},
{id: 'David Shulman', size: 20, color: '#FBCEC9', label: ''},
{id: 'DeShawn Charles Winslow', size: 10, color: '#EE1D23', label: ''},
{id: 'Deb Seager', size: 20, color: '#FBCEC9', label: ''},
{id: 'Deb West', size: 40, color: '#FBCEC9', label: ''},
{id: 'DeFiore and Company', size: 50, color: '#03A5D4', label: 'DeFiore and Company'},
{id: 'Dennis Norris II', size: 20, color: '#FBCEC9', label: ''},
{id: 'Diane Zinna', size: 10, color: '#EE1D23', label: ''},
{id: 'Doubleday', size: 20, color: '#add8e6', label: 'Doubleday'},
{id: 'Drew Calvert', size: 20, color: '#FBCEC9', label: ''},
{id: 'Elaine Castillo', size: 10, color: '#EE1D23', label: ''},
{id: 'Elisabeth Schmitz', size: 20, color: '#FBCEC9', label: ''},
{id: 'Elise Capron', size: 20, color: '#FBCEC9', label: ''},
{id: 'Elissa Schappell', size: 20, color: '#FBCEC9', label: ''},
{id: 'Elizabeth Breeden', size: 20, color: '#FBCEC9', label: ''},
{id: 'Elizabeth Wetmore', size: 10, color: '#EE1D23', label: ''},
{id: 'Emily Bell', size: 20, color: '#FBCEC9', label: ''},
{id: 'Emily Gould', size: 20, color: '#FBCEC9', label: ''},
{id: 'Emily Mahon', size: 30, color: '#FBCEC9', label: ''},
{id: 'Emily Nemens', size: 20, color: '#FBCEC9', label: ''},
{id: 'Emma Caruso', size: 20, color: '#FBCEC9', label: ''},
{id: 'Ethan Canin', size: 40, color: '#FBCEC9', label: ''},
{id: 'Fatima Farheen Mirza', size: 10, color: '#EE1D23', label: ''},
{id: 'Fernando A. Flores', size: 10, color: '#EE1D23', label: ''},
{id: 'Fletcher & Company', size: 20, color: '#03A5D4', label: 'Fletcher & Company'},
{id: 'Forugh Farrokhzad', size: 20, color: '#FBCEC9', label: ''},
{id: 'FSG', size: 30, color: '#add8e6', label: 'FSG'},
{id: 'Garth Greenwell', size: 30, color: '#FBCEC9', label: ''},
{id: 'Georges Borchardt', size: 30, color: '#03A5D4', label: 'Georges Borchardt'},
{id: 'Grace McNamee', size: 20, color: '#add8e6', label: 'Grace McNamee'},
{id: 'HarperCollins', size: 40, color: '#add8e6', label: 'HarperCollins'},
{id: 'Helen Garnons-Williams', size: 20, color: '#FBCEC9', label: ''},
{id: 'HG Literary', size: 30, color: '#03A5D4', label: 'HG Literary'},
{id: 'Hilary Leichter', size: 10, color: '#EE1D23', label: ''},
{id: 'Hogarth', size: 20, color: '#add8e6', label: 'Hogarth'},
{id: 'ICM', size: 70, color: '#03A5D4', label: 'ICM'},
{id: 'Jackson Howard', size: 30, color: '#FBCEC9', label: ''},
{id: 'Jade Jones', size: 20, color: '#add8e6', label: 'Jade Jones'},
{id: 'Jake Wolff', size: 10, color: '#EE1D23', label: ''},
{id: 'Jamaica Kincaid', size: 20, color: '#FBCEC9', label: ''},
{id: 'Jamel Brinkley', size: 20, color: '#FBCEC9', label: ''},
{id: 'James Nolan', size: 20, color: '#FBCEC9', label: ''},
{id: 'Jan Geniesse', size: 20, color: '#FBCEC9', label: ''},
{id: 'Jan Zenisek', size: 40, color: '#FBCEC9', label: ''},
{id: 'Janklow & Nesbit', size: 70, color: '#03A5D4', label: 'Janklow & Nesbit'},
{id: 'Jasmin Darznik', size: 10, color: '#EE1D23', label: ''},
{id: 'Jasminko Halilovic', size: 20, color: '#FBCEC9', label: ''},
{id: 'Jaya Miceli', size: 20, color: '#FBCEC9', label: ''},
{id: 'Jeffrey Eugenides', size: 20, color: '#FBCEC9', label: ''},
{id: 'Jen Beagin', size: 10, color: '#EE1D23', label: ''},
{id: 'Jess Bonet', size: 20, color: '#FBCEC9', label: ''},
{id: 'Jessica Williams', size: 20, color: '#FBCEC9', label: ''},
{id: 'Jill Bialosky', size: 20, color: '#FBCEC9', label: ''},
{id: 'Joanne Ramos', size: 10, color: '#EE1D23', label: ''},
{id: 'Joe Wilkins', size: 10, color: '#EE1D23', label: ''},
{id: 'John Freeman', size: 30, color: '#FBCEC9', label: ''},
{id: 'John Mark Boling', size: 20, color: '#FBCEC9', label: ''},
{id: 'Jordy Rosenberg', size: 10, color: '#EE1D23', label: ''},
{id: 'Joyce Barnes', size: 20, color: '#FBCEC9', label: ''},
{id: 'JT Petty', size: 20, color: '#FBCEC9', label: ''},
{id: 'Judith Claire Mitchell', size: 20, color: '#FBCEC9', label: ''},
{id: 'Judy Hottensen', size: 20, color: '#FBCEC9', label: ''},
{id: 'Julia Phillips', size: 20, color: '#EE1D23', label: ''},
{id: 'Junot Díaz', size: 20, color: '#FBCEC9', label: ''},
{id: 'K-Ming Chang', size: 10, color: '#EE1D23', label: ''},
{id: 'Kara Levy', size: 20, color: '#FBCEC9', label: ''},
{id: 'Kara Watson', size: 20, color: '#FBCEC9', label: ''},
{id: 'Kate Elizabeth Russell', size: 10, color: '#EE1D23', label: ''},
{id: 'Kate Milliken', size: 10, color: '#EE1D23', label: ''},
{id: 'Kate Petty Reed', size: 10, color: '#EE1D23', label: ''},
{id: 'Katie Raissian', size: 30, color: '#FBCEC9', label: ''},
{id: 'Kawai Strong Washburn', size: 10, color: '#EE1D23', label: ''},
{id: 'Kelli Jo Ford', size: 10, color: '#EE1D23', label: ''},
{id: 'Kiese Laymon', size: 20, color: '#FBCEC9', label: ''},
{id: 'Knopf', size: 20, color: '#add8e6', label: 'Knopf'},
{id: 'Kristina Loverro', size: 20, color: '#FBCEC9', label: ''},
{id: 'Kristina Moore', size: 20, color: '#FBCEC9', label: ''},
{id: 'Lan Samantha Chang', size: 60, color: '#FBCEC9', label: ''},
{id: 'Lashanda Anakwah', size: 40, color: '#FBCEC9', label: ''},
{id: 'Laura Gianino', size: 20, color: '#FBCEC9', label: ''},
{id: 'Lauren Acampora', size: 10, color: '#EE1D23', label: ''},
{id: 'Lauren Wilkinson', size: 10, color: '#EE1D23', label: ''},
{id: 'Lee Boudreaux', size: 20, color: '#FBCEC9', label: ''},
{id: 'Leigh Marchant', size: 20, color: '#FBCEC9', label: ''},
{id: 'Lexi Freiman', size: 10, color: '#EE1D23', label: ''},
{id: 'Lillian Li', size: 10, color: '#EE1D23', label: ''},
{id: 'Lindsay Sagnette', size: 20, color: '#FBCEC9', label: ''},
{id: 'Lisa Halliday', size: 10, color: '#EE1D23', label: ''},
{id: 'Lisa Keim', size: 20, color: '#FBCEC9', label: ''},
{id: 'Lisa Ko', size: 20, color: '#FBCEC9', label: ''},
{id: 'Lori Ostlund', size: 20, color: '#FBCEC9', label: ''},
{id: 'Loriana Sacilotto', size: 20, color: '#FBCEC9', label: ''},
{id: 'Lucy Tan', size: 20, color: '#EE1D23', label: ''},
{id: 'Luis Alberto Urrea', size: 30, color: '#FBCEC9', label: ''},
{id: 'Lydia Kiesling', size: 20, color: '#EE1D23', label: ''},
{id: 'Lydia Snape', size: 30, color: '#FBCEC9', label: ''},
{id: 'Lydia Zoells', size: 20, color: '#FBCEC9', label: ''},
{id: 'Magogodi Makhene', size: 20, color: '#FBCEC9', label: ''},
{id: 'Maisy Card', size: 10, color: '#EE1D23', label: ''},
{id: 'Margaret Busby', size: 20, color: '#FBCEC9', label: ''},
{id: 'Margaret Marbury', size: 20, color: '#FBCEC9', label: ''},
{id: 'Mariko Tada', size: 20, color: '#FBCEC9', label: ''},
{id: 'Marilynne Robinson', size: 30, color: '#FBCEC9', label: ''},
{id: 'Mary Karr', size: 20, color: '#FBCEC9', label: ''},
{id: 'Marysue Rucci', size: 20, color: '#FBCEC9', label: ''},
{id: 'Maurice Carlos Ruffin', size: 10, color: '#EE1D23', label: ''},
{id: 'Megan Lynch', size: 30, color: '#FBCEC9', label: ''},
{id: 'Melissa Broder', size: 10, color: '#EE1D23', label: ''},
{id: 'Melissa Rivero', size: 10, color: '#EE1D23', label: ''},
{id: 'Mia Bailey', size: 20, color: '#FBCEC9', label: ''},
{id: 'Michael Taeckens', size: 30, color: '#FBCEC9', label: ''},
{id: 'Michelle Koufopoulos', size: 20, color: '#FBCEC9', label: ''},
{id: 'Miciah Bay Gault', size: 10, color: '#EE1D23', label: ''},
{id: 'Molly Stern', size: 30, color: '#FBCEC9', label: ''},
{id: 'Morgan Entrekin', size: 20, color: '#FBCEC9', label: ''},
{id: 'Moriel Rothman-Zecher', size: 10, color: '#EE1D23', label: ''},
{id: 'Nafkote Tamirat', size: 10, color: '#EE1D23', label: ''},
{id: 'Namwali Serpell', size: 10, color: '#EE1D23', label: ''},
{id: 'Nancy Wayson Dinan', size: 10, color: '#EE1D23', label: ''},
{id: 'New Yorker', size: 20, color: '#add8e6', label: 'New Yorker'},
{id: 'Nick Drnaso', size: 10, color: '#EE1D23', label: ''},
{id: 'Noel Carver', size: 20, color: '#FBCEC9', label: ''},
{id: 'NYU', size: 30, color: '#add8e6', label: 'NYU'},
{id: 'Ocean Vuong', size: 10, color: '#EE1D23', label: ''},
{id: 'Oya Topçuoğlu', size: 20, color: '#FBCEC9', label: ''},
{id: 'Pam Houston', size: 30, color: '#FBCEC9', label: ''},
{id: 'Paula Saunders', size: 10, color: '#EE1D23', label: ''},
{id: 'Pitchaya Sudbanthad', size: 10, color: '#EE1D23', label: ''},
{id: 'Rachel Eve Moulton', size: 10, color: '#EE1D23', label: ''},
{id: 'Rachel Kushner', size: 30, color: '#FBCEC9', label: ''},
{id: 'Rachel Lyon', size: 10, color: '#EE1D23', label: ''},
{id: 'Rachel Rokicki', size: 30, color: '#FBCEC9', label: ''},
{id: 'Random House', size: 50, color: '#add8e6', label: 'Random House'},
{id: 'Randy Chan', size: 20, color: '#FBCEC9', label: ''},
{id: 'Raven Leilani', size: 10, color: '#EE1D23', label: ''},
{id: 'Rebecca Makkai', size: 30, color: '#FBCEC9', label: ''},
{id: 'Rogers, Coleridge & White', size: 10, color: '#03A5D4', label: 'Rogers, Coleridge & White'},
{id: 'Roland Barthes', size: 20, color: '#FBCEC9', label: ''},
{id: 'Ruchika Tomar', size: 10, color: '#EE1D23', label: ''},
{id: 'Ryan Chapman', size: 10, color: '#EE1D23', label: ''},
{id: 'Sahar Mustafah', size: 10, color: '#EE1D23', label: ''},
{id: 'Sandra Dijkstra Literary Agency', size: 10, color: '#03A5D4', label: 'Sandra Dijkstra Literary Agency'},
{id: 'Sarah Frye', size: 20, color: '#FBCEC9', label: ''},
{id: 'Sewanee', size: 30, color: '#add8e6', label: 'Sewanee'},
{id: 'Shobha Rao', size: 10, color: '#EE1D23', label: ''},
{id: 'Simon & Schuster', size: 70, color: '#add8e6', label: 'Simon & Schuster'},
{id: 'Stephen Hogsten', size: 20, color: '#FBCEC9', label: ''},
{id: 'Susan Kamil', size: 30, color: '#FBCEC9', label: ''},
{id: 'Susie Yang', size: 10, color: '#EE1D23', label: ''},
{id: 'Ta-Nahisi Coates', size: 10, color: '#EE1D23', label: ''},
{id: 'Tadzio Koelb', size: 10, color: '#EE1D23', label: ''},
{id: 'The Book Group', size: 10, color: '#03A5D4', label: 'The Book Group'},
{id: 'the Bread Loaf Writers Conference', size: 20, color: '#add8e6', label: 'The Bread Loaf Writers Conference'},
{id: 'The Center for Fiction', size: 30, color: '#add8e6', label: 'The Center for Fiction'},
{id: 'The Clegg Agency', size: 20, color: '#03A5D4', label: 'The Clegg Agency'},
{id: 'the National Endowment for the Arts', size: 20, color: '#add8e6', label: 'the National Endowment for the Arts'},
{id: 'the New York Foundation', size: 30, color: '#add8e6', label: 'The New York Foundation'},
{id: 'the Rona Jaffe Foundation', size: 20, color: '#add8e6', label: 'The Rona Jaffe Foundation'},
{id: 'The Wylie Agency', size: 20, color: '#03A5D4', label: 'The Wylie Agency'},
{id: 'Tin House', size: 30, color: '#add8e6', label: 'Tin House'},
{id: 'Tommy Orange', size: 10, color: '#EE1D23', label: ''},
{id: 'Toni Morrison', size: 20, color: '#FBCEC9', label: ''},
{id: 'Tope Folarin', size: 10, color: '#EE1D23', label: ''},
{id: 'Trident Media Group', size: 30, color: '#03A5D4', label: 'Trident Media Group'},
{id: 'UCLA', size: 20, color: '#add8e6', label: 'UCLA'},
{id: 'Union Literary', size: 40, color: '#03A5D4', label: 'Union Literary'},
{id: 'Victor LaValle', size: 30, color: '#FBCEC9', label: ''},
{id: 'Victory Matsui', size: 30, color: '#FBCEC9', label: ''},
{id: 'VONA', size: 20, color: '#add8e6', label: 'VONA'},
{id: 'Watkins/Loomis Agency', size: 10, color: '#03A5D4', label: 'Watkins/Loomis Agency'},
{id: 'William Morris Endeavor', size: 50, color: '#03A5D4', label: 'William Morris Endeavor'},
{id: 'Writers House', size: 10, color: '#03A5D4', label: 'Writers House'},
{id: 'Xhenet Aliu', size: 10, color: '#EE1D23', label: ''},
{id: 'Yael Goldstein Love', size: 20, color: '#FBCEC9', label: ''},
];

const svg = d3.select('body')
  .append('svg')
  .attr('width', width)
  .attr('height', height);

const background = svg.append("rect")
  .attr("width", width)
  .attr("height", height)
  .attr("fill", "white")
  .style("opacity", 0);

const simulation = d3.forceSimulation()
  .force("link", d3.forceLink().id(d => d.id))
  .force("charge", d3.forceManyBody())
  .force("center", d3.forceCenter(width / 2, height / 2));

const links = edges.map(e => ({
  source: nodesData.find(n => n.id === e.source),
  target: nodesData.find(n => n.id === e.target)
}));

const link = svg.append("g")
  .selectAll("line")
  .data(links)
  .join("line")
  .attr("class", "link")
  .attr("opacity", 0);

const node = svg.append("g")
  .selectAll("g")
  .data(nodesData)
  .join("g")
  .call(drag(simulation));

node.append("circle")
  .attr("class", "node")
  .attr("r", d => d.size)
  .attr("fill", d => d.color)
  .on("click", (event, d) => handleClick(event, d))
  .on("mouseover", (event, d) => handleMouseOver(event, d))
  .on("mouseout", (event, d) => handleMouseOut(event, d));

background.on("click", () => {
  node.selectAll("circle")
    .attr("opacity", 1)
    .attr("fill", d => d.color);

  // Add this line to reset the opacity of the labels, i.e. make them
    //reappear after clicking on the box
  //node.selectAll("text")
    //.attr("opacity", 1);
});

// Step 2: Add the label text for nodes with a 'label' property
// Comment this out if you just want tooltips and no labels
node.filter(d => d.label).append("text")
  .text(d => d.label)
  .attr("dx", d => d.size + 5)
  .attr("dy", ".35em")
  .attr("font-size", "12px") // Set the font size
  .attr("font-family", "Arial, sans-serif"); // Set the font family;

simulation.nodes(nodesData).on("tick", ticked);
simulation.force("link").links(links);

function handleMouseOver(event, d) {
  if (d.label) {
    const tooltip = d3.select("#tooltip");
    tooltip
      .style("visibility", "visible")
      .text(d.label)
      .style("left", (event.pageX + 10) + "px")
      .style("top", (event.pageY - 10) + "px");
  }
}

function handleMouseOut(event, d) {
  d3.select("#tooltip").style("visibility", "hidden");
}

function handleClick(event, d) {
  event.stopPropagation();

  const connectedNodes = new Set([d.id]);

  links.forEach(link => {
    if (link.source === d) {
      connectedNodes.add(link.target.id);
    } else if (link.target === d) {
      connectedNodes.add(link.source.id);
    }
  });

  node.selectAll("circle")
    .attr("opacity", d => connectedNodes.has(d.id) ? 1 : 0.5)
    .attr("fill", d => connectedNodes.has(d.id) ? d.color : "gray");

  // Add this line to change the opacity of the non-connected labels
  //node.selectAll("text")
    //.attr("opacity", d => connectedNodes.has(d.id) ? 1 : 0);
}

function ticked() {
  link
    .attr("x1", d => d.source.x)
    .attr("y1", d => d.source.y)
    .attr("x2", d => d.target.x)
    .attr("y2", d => d.target.y);
  
  node
    .attr("transform", d => `translate(${d.x},${d.y})`);
}

// Alternative ticked function so that they don't cross the border of the rect
//function ticked() {
  //link
    //.attr("x1", d => d.source.x)
    //.attr("y1", d => d.source.y)
    //.attr("x2", d => d.target.x)
    //.attr("y2", d => d.target.y);

  //node
    //.attr("transform", d => {
      // Add this block to keep nodes within the bounds
      //const radius = d.size;
      //d.x = Math.max(radius, Math.min(width - radius, d.x));
      //d.y = Math.max(radius, Math.min(height - radius, d.y));

      //return `translate(${d.x},${d.y})`;
    //});
//}

function drag(simulation) {
  function dragstarted(event, d) {
    if (!event.active) simulation.alphaTarget(0.3).restart();
    d.fx = d.x;
    d.fy = d.y;
  }
  
  function dragged(event, d) {
    d.fx = event.x;
    d.fy = event.y;
  }
      
      function dragended(event, d) {
        if (!event.active) simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
      }
      
      return d3.drag()
        .on("start", dragstarted)
        .on("drag", dragged)
        .on("end", dragended);
    }
  </script>
</body>
</html>
